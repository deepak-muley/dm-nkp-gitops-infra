# Bootstrap manifest for NKP GitOps - USA Region AZ2
# Apply this to bootstrap GitOps for region-usa/az2:
#
#   kubectl apply -f https://raw.githubusercontent.com/deepak-muley/dm-gitops-dev/main/region-usa/az2/bootstrap.yaml
#
# Or locally:
#   kubectl apply -f region-usa/az2/bootstrap.yaml
#
# Configuration:
#   Region: USA
#   Availability Zone: az2
#   Management Cluster: <your-mgmt-cluster>
#
---
apiVersion: source.toolkit.fluxcd.io/v1
kind: GitRepository
metadata:
  name: gitops-usa-az2
  namespace: kommander
spec:
  interval: 1h
  ref:
    branch: main
  timeout: 60s
  url: https://github.com/deepak-muley/dm-gitops-dev.git
---
apiVersion: kustomize.toolkit.fluxcd.io/v1
kind: Kustomization
metadata:
  name: clusterops-usa-az2
  namespace: kommander
spec:
  interval: 1h
  path: ./region-usa/az2
  prune: true
  sourceRef:
    kind: GitRepository
    name: gitops-usa-az2
    namespace: kommander
  timeout: 3m
