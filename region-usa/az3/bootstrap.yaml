# Bootstrap manifest for NKP GitOps - USA Region AZ3
# Apply this to bootstrap GitOps for region-usa/az3:
#
#   kubectl apply -f https://raw.githubusercontent.com/deepak-muley/dm-gitops-dev/main/region-usa/az3/bootstrap.yaml
#
# Or locally:
#   kubectl apply -f region-usa/az3/bootstrap.yaml
#
# Configuration:
#   Region: USA
#   Availability Zone: az3
#   Management Cluster: <your-mgmt-cluster>
#
---
apiVersion: source.toolkit.fluxcd.io/v1
kind: GitRepository
metadata:
  name: gitops-usa-az3
  namespace: kommander
spec:
  interval: 5m
  ref:
    branch: main
  timeout: 60s
  url: https://github.com/deepak-muley/dm-gitops-dev.git
---
apiVersion: kustomize.toolkit.fluxcd.io/v1
kind: Kustomization
metadata:
  name: clusterops-usa-az3
  namespace: kommander
spec:
  interval: 5m
  path: ./region-usa/az3
  prune: true
  sourceRef:
    kind: GitRepository
    name: gitops-usa-az3
    namespace: kommander
  timeout: 3m
